[{"/Users/pleed0215/Documents/mystudy/nuber_eats/src/index.tsx":"1","/Users/pleed0215/Documents/mystudy/nuber_eats/src/apollo.ts":"2","/Users/pleed0215/Documents/mystudy/nuber_eats/src/reportWebVitals.ts":"3","/Users/pleed0215/Documents/mystudy/nuber_eats/src/App.tsx":"4","/Users/pleed0215/Documents/mystudy/nuber_eats/src/Routers/logged-out-router.tsx":"5","/Users/pleed0215/Documents/mystudy/nuber_eats/src/Routers/logged-in-router.tsx":"6","/Users/pleed0215/Documents/mystudy/nuber_eats/src/pages/logint.tsx":"7","/Users/pleed0215/Documents/mystudy/nuber_eats/src/pages/create-account.tsx":"8","/Users/pleed0215/Documents/mystudy/nuber_eats/src/utils.tsx":"9","/Users/pleed0215/Documents/mystudy/nuber_eats/src/components/form-button-inactivable.tsx":"10","/Users/pleed0215/Documents/mystudy/nuber_eats/src/codegen/globalTypes.ts":"11","/Users/pleed0215/Documents/mystudy/nuber_eats/src/gloabl.constant.tsx":"12"},{"size":929,"mtime":1607477056079,"results":"13","hashOfConfig":"14"},{"size":1070,"mtime":1607481243003,"results":"15","hashOfConfig":"14"},{"size":425,"mtime":1607468238639,"results":"16","hashOfConfig":"14"},{"size":399,"mtime":1607479598465,"results":"17","hashOfConfig":"14"},{"size":451,"mtime":1607468238637,"results":"18","hashOfConfig":"14"},{"size":1125,"mtime":1607481388353,"results":"19","hashOfConfig":"14"},{"size":4122,"mtime":1607479431782,"results":"20","hashOfConfig":"14"},{"size":4706,"mtime":1607476887068,"results":"21","hashOfConfig":"14"},{"size":181,"mtime":1607468238640,"results":"22","hashOfConfig":"14"},{"size":354,"mtime":1607470660489,"results":"23","hashOfConfig":"14"},{"size":633,"mtime":1607479572809,"results":"24","hashOfConfig":"14"},{"size":41,"mtime":1607476641965,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"krz1gk",{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43","usedDeprecatedRules":"28"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"46","usedDeprecatedRules":"28"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"/Users/pleed0215/Documents/mystudy/nuber_eats/src/index.tsx",[],["53","54"],"/Users/pleed0215/Documents/mystudy/nuber_eats/src/apollo.ts",[],"/Users/pleed0215/Documents/mystudy/nuber_eats/src/reportWebVitals.ts",[],"/Users/pleed0215/Documents/mystudy/nuber_eats/src/App.tsx",[],"/Users/pleed0215/Documents/mystudy/nuber_eats/src/Routers/logged-out-router.tsx",[],"/Users/pleed0215/Documents/mystudy/nuber_eats/src/Routers/logged-in-router.tsx",[],"/Users/pleed0215/Documents/mystudy/nuber_eats/src/pages/logint.tsx",[],"/Users/pleed0215/Documents/mystudy/nuber_eats/src/pages/create-account.tsx",["55"],"import { gql, useMutation } from \"@apollo/client\";\nimport React from \"react\";\nimport { Helmet } from \"react-helmet-async\";\nimport { useForm } from \"react-hook-form\";\nimport { Link, Redirect, useHistory } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport { CreateUserVariables, CreateUser } from \"../codegen/CreateUser\";\nimport { CreateUserInput, UserRole } from \"../codegen/globalTypes\";\nimport { FormButtonInactivable } from \"../components/form-button-inactivable\";\nimport nuberLogo from \"../images/eats-logo.svg\";\nimport { EMAIL_REGEX } from \"../utils\";\n\nconst GQL_CREATE_ACCOUNT = gql`\n  mutation CreateUser($input: CreateUserInput!) {\n    createUser(input: $input) {\n      ok\n      error\n    }\n  }\n`;\n\nexport const CreateAccountPage = () => {\n  const {\n    register,\n    handleSubmit,\n    errors,\n    formState,\n  } = useForm<CreateUserInput>({\n    mode: \"onBlur\",\n    defaultValues: {\n      role: UserRole.Client,\n    },\n  });\n  const history = useHistory();\n  const [createUser, { loading }] = useMutation<\n    CreateUser,\n    CreateUserVariables\n  >(GQL_CREATE_ACCOUNT, {\n    onCompleted: ({ createUser: { ok, error } }) => {\n      if (ok) {\n        toast.success(\"Your account is successfully made. Please login now.\");\n        history.push(\"/\");\n      } else {\n        toast.error(error);\n      }\n    },\n  });\n\n  const onSubmit = async (input: CreateUserInput) => {\n    if (!loading) {\n      createUser({\n        variables: {\n          input,\n        },\n      });\n    }\n  };\n\n  return (\n    <div className=\"h-screen w-full flex justify-center \">\n      <Helmet>\n        <title>Nuber | Create your account</title>\n      </Helmet>\n      <div className=\"h-auto w-full max-w-screen-sm flex flex-col items-center \">\n        <img src={nuberLogo} alt=\"logo\" className=\"w-60 mb-5 mt-10 lg:mt-32\" />\n        <div className=\"bg-white w-full max-h-half h-1/3 max-w-lg text-gray-800 px-10 py-10 rounded-lg text-center\">\n          <h3 className=\"text-3xl font-medium w-full text-left text-gray-800\">\n            Let's get started\n          </h3>\n          <form\n            className=\"flex flex-col mt-2\"\n            onSubmit={handleSubmit(onSubmit)}\n          >\n            <div className=\"flex flex-col\">\n              <input\n                placeholder=\"Email\"\n                name=\"email\"\n                type=\"email\"\n                className=\"auth__form_input\"\n                ref={register({\n                  required: {\n                    value: true,\n                    message: \"Email address required.\",\n                  },\n                  pattern: {\n                    value: EMAIL_REGEX,\n                    message: \"Please input email address.\",\n                  },\n                })}\n              />\n              {errors.email?.message && (\n                <span className=\"auth__form_error\">{errors.email.message}</span>\n              )}\n            </div>\n            <div className=\"flex flex-col\">\n              <input\n                placeholder=\"Password\"\n                name=\"password\"\n                type=\"password\"\n                className=\"auth__form_input\"\n                ref={register({\n                  required: {\n                    value: true,\n                    message: \"Password required\",\n                  },\n                  minLength: {\n                    value: 8,\n                    message: \"Password too short, must be over 8\",\n                  },\n                  maxLength: {\n                    value: 16,\n                    message: \"Too long password, must be under 16\",\n                  },\n                })}\n              />\n              {errors.password?.message && (\n                <span className=\"auth__form_error\">\n                  {errors.password.message}\n                </span>\n              )}\n            </div>\n            <div className=\"flex flex-col\">\n              <select\n                name=\"role\"\n                ref={register({ required: true })}\n                className=\"auth__form_input\"\n              >\n                {Object.keys(UserRole).map((role) => (\n                  <option>{role}</option>\n                ))}\n              </select>\n            </div>\n            <FormButtonInactivable\n              loading={loading}\n              isActivate={formState.isValid}\n            >\n              Create Account\n            </FormButtonInactivable>\n          </form>\n          <p className=\"mt-4\">\n            You already have your account?\n            <Link\n              to=\"/login\"\n              className=\"text-lime-600 hover:underline font-semibold\"\n            >\n              Sign in now.\n            </Link>\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n","/Users/pleed0215/Documents/mystudy/nuber_eats/src/utils.tsx",["56","57"],"export const EMAIL_REGEX = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n","/Users/pleed0215/Documents/mystudy/nuber_eats/src/components/form-button-inactivable.tsx",[],"/Users/pleed0215/Documents/mystudy/nuber_eats/src/codegen/globalTypes.ts",[],"/Users/pleed0215/Documents/mystudy/nuber_eats/src/gloabl.constant.tsx",[],{"ruleId":"58","replacedBy":"59"},{"ruleId":"60","replacedBy":"61"},{"ruleId":"62","severity":1,"message":"63","line":5,"column":16,"nodeType":"64","messageId":"65","endLine":5,"endColumn":24},{"ruleId":"66","severity":1,"message":"67","line":1,"column":38,"nodeType":"68","messageId":"69","endLine":1,"endColumn":39,"suggestions":"70"},{"ruleId":"66","severity":1,"message":"67","line":1,"column":63,"nodeType":"68","messageId":"69","endLine":1,"endColumn":64,"suggestions":"71"},"no-native-reassign",["72"],"no-negated-in-lhs",["73"],"@typescript-eslint/no-unused-vars","'Redirect' is defined but never used.","Identifier","unusedVar","no-useless-escape","Unnecessary escape character: \\[.","Literal","unnecessaryEscape",["74","75"],["76","77"],"no-global-assign","no-unsafe-negation",{"messageId":"78","fix":"79","desc":"80"},{"messageId":"81","fix":"82","desc":"83"},{"messageId":"78","fix":"84","desc":"80"},{"messageId":"81","fix":"85","desc":"83"},"removeEscape",{"range":"86","text":"87"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"88","text":"89"},"Replace the `\\` with `\\\\` to include the actual backslash character.",{"range":"90","text":"87"},{"range":"91","text":"89"},[37,38],"",[37,37],"\\",[62,63],[62,62]]